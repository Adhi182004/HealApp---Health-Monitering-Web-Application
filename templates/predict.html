<!DOCTYPE html>
<html>
<head>
    <title>Disease Prediction - HealApp</title>
    <style>
        body{
            font-family: Arial;
            background: linear-gradient(135deg,#e8fdf7,#ffffff);
        }

        h1{
            text-align:center;
            color:#00b894;
        }

        .container{
            width:90%;
            margin:auto;
        }

        .symptoms{
            display:grid;
            grid-template-columns: repeat(auto-fill,minmax(200px,1fr));
            gap:10px;
            max-height:400px;
            overflow-y:auto;
            padding:10px;
            background:white;
            border-radius:10px;
            box-shadow:0 5px 15px rgba(0,0,0,0.1);
        }

        button{
            background:#00b894;
            color:white;
            padding:10px 20px;
            border:none;
            border-radius:8px;
            margin-top:15px;
            cursor:pointer;
        }

        #result{
            margin-top:20px;
            padding:15px;
            background:white;
            border-radius:10px;
            box-shadow:0 5px 15px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>

<h1>ðŸ©º Disease Prediction</h1>

<div class="container">

<div class="symptoms">
{% for symptom in symptoms %}
<label>
    <input type="checkbox" value="{{ symptom }}"> {{ symptom.replace("_"," ") }}
</label>
{% endfor %}
</div>

<button onclick="predictDisease()">Predict Disease</button>

<div id="result"></div>

</div>

<script>
function predictDisease(){

    let selected = [];
    document.querySelectorAll('input[type="checkbox"]:checked')
    .forEach(cb => selected.push(cb.value));

    fetch("/predict_disease",{
        method:"POST",
        headers:{"Content-Type":"application/json"},
        body:JSON.stringify({symptoms:selected})
    })
    .then(res=>res.json())
    .then(data=>{
        document.getElementById("result").innerHTML = `
            <h2>Predicted Disease: ${data.disease}</h2>
            <p>Confidence: ${data.confidence}%</p>
        `;
    });
}
</script>

</body>
</html>
